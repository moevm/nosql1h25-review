<div class="sidebar-container">
    <div class="sidebar">
        <div class="sidebar-header" style="padding: 12px 24px; font-weight: 600; color: #000; border-bottom: 1px solid #e0e0e0;">
            My Profile
        </div>

        <div class="menu-items-container">
            <div class="menu-item active" data-section="ratings">My Rating & Reviews</div>
            <div class="menu-item" data-section="account">My account</div>
            <div class="menu-item" data-section="statistics">Statistics</div>

            {% if user.role == 'admin' %}
            <div class="menu-item" data-section="admin">Admin</div>
            {% endif %}

            <div class="menu-item sign-out-container">
                <a href="{% url 'core:homepage' %}" class="sign-out-link">Sign Out</a>
            </div>
        </div>
    </div>
</div>

<style>
    .sidebar-container {
        display: flex;
        flex-direction: column;
        height: calc(100vh - [header_height]px); /* Замените [header_height] на реальную высоту вашего хедера */
        position: sticky;
        top: [header_height]px; /* Такое же значение как выше */
    }

    .sidebar {
        width: 250px;
        background-color: #f8f9fa;
        border-right: 1px solid #e0e0e0;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .menu-items-container {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .menu-item {
        padding: 12px 24px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 500;
        color: #495057;
        transition: all 0.2s ease;
    }

    .menu-item:hover {
        background-color: #e9ecef;
        color: #000;
    }

    .menu-item.active {
        background-color: #e9ecef;
        color: #000;
        font-weight: 600;
        border-left: 3px solid #000;
    }

    .sign-out-container {
        margin-top: auto; /* Прижимает к низу */
        padding: 12px 0;
    }

    .sign-out-link {
        display: block;
        padding: 12px 24px;
        text-decoration: none;
        color: inherit;
    }

    .sign-out-link:hover {
        background-color: #e9ecef;
        color: #000;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const menuItems = document.querySelectorAll('.menu-item[data-section]');
    const mainContent = document.getElementById('main-content');

    menuItems.forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();

            document.querySelectorAll('.menu-item').forEach(i => {
                i.classList.remove('active');
            });

            this.classList.add('active');

            const section = this.getAttribute('data-section');
            fetch(`/profile/load_section/?section=${section}`)
                .then(response => response.text())
                .then(html => {
                    mainContent.innerHTML = html;
                })
                .catch(error => {
                    console.error('Error loading section:', error);
                });
        });
    });
});
</script>